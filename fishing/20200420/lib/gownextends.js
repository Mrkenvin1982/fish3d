"use strict";define(function(t){function e(){throw new Error("Cannot instance this class")}function i(e,i,n,o){e=e||null,i=i||null,n=n||i,o=o||i;var t=new GOWN.Theme(!1);t.setSkin(GOWN.Slider.SKIN_NAME,"horizontal_track",function(){if(e)return new PIXI.Sprite(e);var t=new PIXI.Graphics;return t.DrawDashedLine(0,0,240,0,3355443,5,1,15),new PIXI.Sprite(t.generateTexture())}),t.setSkin(GOWN.ScrollThumb.SKIN_NAME,"horizontal_"+GOWN.Button.UP,function(){if(i)return new PIXI.Sprite(i);var t=new PIXI.Graphics;return t.beginFill(3355443,1),t.drawRoundedRect(0,0,6,25,5),t.endFill(),new PIXI.Sprite(t.generateTexture())}),t.setSkin(GOWN.ScrollThumb.SKIN_NAME,"horizontal_"+GOWN.Button.DOWN,function(){if(n)return new PIXI.Sprite(n);var t=new PIXI.Graphics;return t.beginFill(3355443,1),t.drawRoundedRect(0,0,6,25,5),t.endFill(),new PIXI.Sprite(t.generateTexture())}),t.setSkin(GOWN.ScrollThumb.SKIN_NAME,"horizontal_"+GOWN.Button.HOVER,function(){if(o)return new PIXI.Sprite(o);var t=new PIXI.Graphics;return t.beginFill(3355443,1),t.drawRoundedRect(0,0,6,25,5),t.endFill(),new PIXI.Sprite(t.generateTexture())}),GOWN.Slider.call(this,null,t),this.thumb.width=8,this.thumb.height=25,this.thumb.y=-7,this.thumb.buttonMode=!0}function n(t){this.style=t,this.skinName=GOWN.CellRenderDropDownSkin.SKIN_NAME,this._validStates=GOWN.Button.stateNames.slice(0),this._validStates.push(GOWN.CellRenderDropDownSkin.DISABLE),this._validStates.push(GOWN.CellRenderDropDownSkin.SELECTED_UP),this._validStates.push(GOWN.CellRenderDropDownSkin.SELECTED_HOVER),this._validStates.push(GOWN.CellRenderDropDownSkin.SELECTED_DOWN),this._validStates.push(GOWN.CellRenderDropDownSkin.SELECTED_DISABLE);var e=new GOWN.Theme(!1);e.textStyle.fontSize=50,e.setSkin(GOWN.CellRenderDropDownSkin.SKIN_NAME,GOWN.Button.UP,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.CellRenderer_selectedDisableSkin)}),e.setSkin(GOWN.CellRenderDropDownSkin.SKIN_NAME,GOWN.Button.HOVER,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.CellRenderer_selectedOverSkin)}),e.setSkin(GOWN.CellRenderDropDownSkin.SKIN_NAME,GOWN.Button.DOWN,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.CellRenderer_selectedUpSkin)}),e.setSkin(GOWN.CellRenderDropDownSkin.SKIN_NAME,GOWN.CellRenderDropDownSkin.DISABLE,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.CellRenderer_disabledSkin)}),e.setSkin(GOWN.CellRenderDropDownSkin.SKIN_NAME,GOWN.CellRenderDropDownSkin.SELECTED_UP,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.CellRenderer_selectedUpSkin)}),e.setSkin(GOWN.CellRenderDropDownSkin.SKIN_NAME,GOWN.CellRenderDropDownSkin.SELECTED_HOVER,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.CellRenderer_selectedOverSkin)}),e.setSkin(GOWN.CellRenderDropDownSkin.SKIN_NAME,GOWN.CellRenderDropDownSkin.SELECTED_DOWN,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.CellRenderer_selectedDownSkin)}),e.setSkin(GOWN.CellRenderDropDownSkin.SKIN_NAME,GOWN.CellRenderDropDownSkin.SELECTED_DISABLE,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.CellRenderer_selectedOverSkin)}),GOWN.Button.call(this,e,this.skinName),this.label="",this.createLabel(),this.labelText.style={font:"20px Arial",fill:65535,align:"left"},this.mouseclick=this.onSelect.bind(this)}(e.prototype=Object.create(Object.prototype)).constructor=e,Object.defineProperties(e.prototype,{}),Object.defineProperties(GOWN.Button.prototype,{customHitArea:{value:null,writable:!0}}),GOWN.Button.prototype.updateDimensions=function(){var t=this.worldWidth,e=this.worldHeight;this.customHitArea?this.hitArea=this.customHitArea:this.hitArea?(this.hitArea.width=t,this.hitArea.height=e):this.hitArea=new PIXI.Rectangle(0,0,t,e);for(var i=0;i<this._validStates.length;i++){var n=this._validStates[i],o=this.skinCache[n];o&&(o.width=t,o.height=e)}if(this.labelText){var s=e/this._height;this.labelText.style.fontSize=this.theme.textStyle.fontSize*s,this.labelText.style=this.labelText.style,this.updateLabelDimensions()}},Object.defineProperties(GOWN.ScrollArea.prototype,{onScrollStart:{value:null,writable:!0},onScrollStop:{value:null,writable:!0},onScrollMove:{value:null,writable:!0}}),GOWN.ScrollArea.prototype.mousedown=function(t){var e=t.data.getLocalPosition(this);this._start||(this._start=[e.x-this.content.x,e.y-this.content.y],this.onScrollStart&&this.onScrollStart(this.content.x,this.content.y))},GOWN.ScrollArea.prototype.mouseup=function(){this._start=null,this.onScrollStop&&this.onScrollStop(this.content.x,this.content.y)},GOWN.ScrollArea.prototype.mousemove=function(t){if(this._start){var e=t.data.getLocalPosition(this);this._scrollContent(e.x-this._start[0],e.y-this._start[1])&&this.updateBar(),this.onScrollMove&&this.onScrollMove(e,this._start)}},(i.prototype=Object.create(GOWN.Slider.prototype)).constructor=i,GOWN.DashSlider=i,((n.prototype=Object.create(GOWN.Button.prototype)).constructor=n).SKIN_NAME="CellRenderDropDownSkin",n.DISABLE="disable",n.SELECTED_UP="selected_up",n.SELECTED_HOVER="selected_down",n.SELECTED_DOWN="selected_hover",n.SELECTED_DISABLE="selected_disable",Object.defineProperties(n.prototype,{value:{value:null,writable:!0},currentIndex:{value:0,writable:!0},callBackOnClick:{value:null,writable:!0}}),n.prototype.redraw=function(){GOWN.Button.prototype.redraw.call(this),this.labelText&&(this.style?this.labelText.style=this.style:(this.labelText.style={font:"20px Arial",fill:65535,align:"left"},this.labelText.x=90,this.labelText.y=7))},n.prototype.onSelect=function(){this.callBackOnClick(this.currentIndex),event.stopPropagation()};var o=Object.getOwnPropertyDescriptor(GOWN.Button.prototype,"currentState");function s(t){this.style=t,this.skinName=GOWN.DropDownList.SKIN_NAME,this._validStates=GOWN.Button.stateNames.slice(0),this._validStates.push(s.DISABLE);var e=new GOWN.Theme(!1);e.setSkin(GOWN.DropDownList.SKIN_NAME,GOWN.Button.UP,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.ComboBox_upSkin)}),e.setSkin(GOWN.DropDownList.SKIN_NAME,GOWN.Button.HOVER,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.ComboBox_overSkin)}),e.setSkin(GOWN.DropDownList.SKIN_NAME,GOWN.Button.DOWN,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.ComboBox_downSkin)}),e.setSkin(GOWN.DropDownList.SKIN_NAME,GOWN.DropDownList.DISABLE,function(){return new PIXI.Sprite(ResourceManager.Atlas.AtlasButton.textures.ComboBox_disabledSkin)}),GOWN.Button.call(this,e,this.skinName),this.label="",this.createLabel(),this._arrayItemDropDown=[],this._dropDownMC=new PIXI.Container,this._dropDownMC.visible=!1,this._dropDownMC.y=ResourceManager.Atlas.AtlasButton.textures.ComboBox_upSkin.height,this._defaultHitAreaWidth=ResourceManager.Atlas.AtlasButton.textures.ComboBox_upSkin.width,this._defaultHitAreaHeight=ResourceManager.Atlas.AtlasButton.textures.ComboBox_upSkin.height,this.hitArea=new PIXI.Rectangle(0,0,this._defaultHitAreaWidth,this._defaultHitAreaHeight),this.addChild(this._dropDownMC),this.mouseclick=this.toggleDropDownMc.bind(this)}function r(t,e){this.skinName=e||GOWN.RadioButton.SKIN_NAME,GOWN.ToggleButton.call(this,t,this.skinName),this.labelDistance=new PIXI.Point(5,0),this.label="",this.createLabel(),this.buttonMode=!0}return Object.defineProperty(n.prototype,"currentState",{set:function(t){this._selected&&(t="selected_"+t),o.set.call(this,t)}}),Object.defineProperty(n.prototype,"selected",{set:function(t){var e=this._currentState;this.invalidState=this._selected!==t||this.invalidState,0===e.indexOf("selected_")&&(e=e.substr(9,e.length)),this._selected=t,this._pressed=!1,this.currentState=e},get:function(){return this._selected}}),n.prototype.toggle=function(){1!=this.selected&&(this.selected=!this._selected)},n.prototype.buttonHandleEvent=GOWN.Button.prototype.handleEvent,n.prototype.handleEvent=function(t){this._enabled&&(t===GOWN.Button.UP&&this._pressed&&this.toggle(),this.buttonHandleEvent(t))},n.prototype.updateLabelDimensions=function(){GOWN.Button.prototype.updateLabelDimensions.call(this),this.labelText&&this.labelText.text&&(this.labelText.x+=5,this.labelText.y+=3)},GOWN.CellRenderDropDownSkin=n,((s.prototype=Object.create(GOWN.Button.prototype)).constructor=s).prototype.redraw=function(t){GOWN.Button.prototype.redraw.call(this),this.labelText&&(null!=this.style?this.labelText.style=this.style:(this.labelText.x=140,this.labelText.y=7,this.labelText.style={font:"20px Arial",fill:65535,align:"center"}))},s.prototype.updateLabelDimensions=function(){GOWN.Button.prototype.updateLabelDimensions.call(this),this.labelText&&this.labelText.text&&(this.labelText.x+=5,this.labelText.y+=3)},s.SKIN_NAME="DropDownList",s.DISABLE="disable",Object.defineProperties(s.prototype,{_defaultHitAreaWidth:{value:0,writable:!0},_defaultHitAreaHeight:{value:0,writable:!0},_yCoorItem:{value:0,writable:!0},_dropDownMC:{value:null,writable:!0},_arrayItemDropDown:{value:null,writable:!0},_indexSelected:{value:0,writable:!0},length:{get:function(){return this._arrayItemDropDown.length}},selectedIndex:{get:function(){var t=this._arrayItemDropDown[this._indexSelected];return null!=t?t.value:null},set:function(t){var e;0!=this._arrayItemDropDown.length&&null!=(e=this._arrayItemDropDown[this._indexSelected])&&(e.selected=!1);this._indexSelected=t,null!=(e=this._arrayItemDropDown[this._indexSelected])&&(this.labelText.style={font:"20px Arial",fill:65535,align:"left"},this.label=e.label,e.selected=!0,this._dropDownMC.visible=!1,this.hitArea=new PIXI.Rectangle(0,0,this._defaultHitAreaWidth,this._defaultHitAreaHeight))}},selectedItem:{get:function(){var t=this._arrayItemDropDown[this._indexSelected];return null!=t?t.value:null}},disabled:{get:function(){return!this.enabled},set:function(t){this.enabled=!t,0==this.enabled&&(this.currentState=s.DISABLE)}}}),s.prototype.onSelectItem=function(t){this.toggleDropDownMc(),this.selectedIndex=t},s.prototype.toggleDropDownMc=function(){this.enabled&&(this._dropDownMC.visible=!this._dropDownMC.visible,this._dropDownMC.visible?(Utilities.log("set On"),this.hitArea=new PIXI.Rectangle(0,0,this._defaultHitAreaWidth,this._dropDownMC.height+this._dropDownMC.y),this.mouseupoutside=this.hideDropDownMc.bind(this),this.touchendoutside=this.hideDropDownMc.bind(this)):(this.hitArea=new PIXI.Rectangle(0,0,this._defaultHitAreaWidth,this._defaultHitAreaHeight),Utilities.log("set Off"),this.mouseupoutside=null,this.touchendoutside=null))},s.prototype.processMouseDown=function(t,e){var i=this.mouse.originalEvent,n=2===i.button||3===i.which;e?(t[n?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,n?"rightdown":"mousedown",this.eventData)):this.hideDropDownMc()},s.prototype.hideDropDownMc=function(){this._dropDownMC.visible&&(this._dropDownMC.visible=!1),this.hitArea=new PIXI.Rectangle(0,0,this._defaultHitAreaWidth,this._defaultHitAreaHeight)},s.prototype.removeAll=function(){var t;for(this._arrayItemDropDown.length=0;0!=this._dropDownMC.numChildren;)t=this._dropDownMC.getChildAt(0),this._dropDownMC.removeChildAt(0),t.destroy();this._yCoorItem=0,this._indexSelected=0},s.prototype.getItemAt=function(t){return this._arrayItemDropDown[t].value},s.prototype.onOverItem=function(){this.interactive=!1},s.prototype.onOutItem=function(){this.interactive=!0},s.prototype.replaceItems=function(t){this.removeAll();for(var e=0;e<t.length;e++)this.addItem(t[e])},s.prototype.addItems=function(t){for(var e=0;e<t.length;e++)this.addItem(t[e])},s.prototype.addItem=function(t){var e=new GOWN.CellRenderDropDownSkin(this.style);e.value=t,e.label=t.label,e.x=50,e.y=this._yCoorItem,e.currentIndex=this._arrayItemDropDown.length,this._arrayItemDropDown.push(e),e.callBackOnClick=this.onSelectItem.bind(this),this._dropDownMC.addChild(e),this._yCoorItem+=e.theme.getSkin(e.skinName,GOWN.Button.UP).height,this.selectedIndex=0},GOWN.DropDownList=s,((r.prototype=Object.create(GOWN.ToggleButton.prototype)).constructor=r).SKIN_NAME="radio_button",r.GroupList={},Object.defineProperties(r.prototype,{_onSelectedCallback:{value:null,writable:!0},onSelected:{get:function(){return this._onSelectedCallback},set:function(t){this._onSelectedCallback=t}},selectedIndex:{get:function(){return void 0!==r.GroupList[this._groupID]?r.GroupList[this._groupID].selectedIndex:-1}},selectedValue:{get:function(){return void 0!==r.GroupList[this._groupID]?r.GroupList[this._groupID].selectedValue:null}},selectedRadio:{get:function(){return void 0!==r.GroupList[this._groupID]?r.GroupList[this._groupID].selectedRadio:null}},_selectIndex:{value:0,writable:!0},selectIndex:{set:function(t){void 0!==r.GroupList[this._groupID]&&r.GroupList[this._groupID].selectedRadio==this&&(r.GroupList[this._groupID].selectedIndex=t),this._selectIndex=t},get:function(){return this._selectIndex}},_selectValue:{value:null,writable:!0},selectValue:{set:function(t){void 0!==r.GroupList[this._groupID]&&r.GroupList[this._groupID].selectedRadio==this&&(r.GroupList[this._groupID].selectedValue=t),this._selectValue=t},get:function(){return this._selectValue}},_selected:{value:!1,writable:!0},selected:{set:function(t){this._selected!=t&&(this._selected||(null!=r.GroupList[this.groupID].selectedRadio&&r.GroupList[this.groupID].selectedRadio.toggleUI(!1),r.GroupList[this.groupID].selectedIndex=this.selectIndex,r.GroupList[this.groupID].selectedValue=this.selectValue,null!=(r.GroupList[this.groupID].selectedRadio=this).onSelected&&this.onSelected.call(this,{selectedIndex:this.selectIndex,selectedValue:this.selectValue,selectedRadio:this}),this.toggleUI(t)))},get:function(){return this._selected}},_groupID:{value:"",writable:!0},groupID:{set:function(t){if(this._groupID!=t)if(void 0!==r.GroupList[this._groupID]&&(null!=r.GroupList[this._groupID].selectedRadio&&r.GroupList[this._groupID].selectedRadio==this&&(r.GroupList[this._groupID].selectedIndex=-1,r.GroupList[this._groupID].selectedValue=null,r.GroupList[this._groupID].selectedRadio=null),void 0!==r.GroupList[this._groupID].listRadio[this.selectIndex]&&delete r.GroupList[this._groupID].listRadio[this.selectIndex]),this._groupID=t,void 0===r.GroupList[t])r.GroupList[t]={selectedIndex:-1,selectedValue:null,selectedRadio:null,listRadio:{}},(r.GroupList[t].listRadio[this.selectIndex]=this).selected&&(r.GroupList[t].selectedRadio=this,r.GroupList[t].selectedIndex=this.selectIndex,r.GroupList[t].selectedValue=this.selectValue);else{for(var e,i=-1,n=-1,o=Object.keys(r.GroupList[t].listRadio),s=0;s<o.length;s++)(e=r.GroupList[t].listRadio[o[s]]).selectIndex>n&&(n=e.selectIndex),this==e&&(i=s);if(-1==i){if(-1!=o.indexOf(this.selectIndex.toString())){for(console.log("You have added a radio to group "+this.groupID+" with selecteIndex duplicate: "+this.selectIndex),s=0;s<n;s++)if(-1==o.indexOf(s.toString())){this.selectIndex=s;break}s==n&&(this.selectIndex=n+1),console.log("selecteIndex auto change to: "+this.selectIndex)}r.GroupList[t].listRadio[this.selectIndex]=this}else this.selectIndex}},get:function(){return this._groupID}},labelDistance:{value:null,writable:!0},labelDistanceX:{get:function(){return this.labelDistance.x},set:function(t){this.labelDistance.x=t}},labelDistanceY:{get:function(){return this.labelDistance.y},set:function(t){this.labelDistance.y=t}}}),r.prototype.toggleUI=function(t){if(this._selected!==t){this.invalidState=this._selected!==t||this.invalidState;var e=this._currentState;0===e.indexOf("selected_")&&(e=e.substr(9,e.length)),this._selected=t,this._pressed=!1,this.currentState=e}},r.prototype.destroy=function(t){void 0!==r.GroupList[this.groupID]&&void 0!==r.GroupList[this._groupID].listRadio[this.selectIndex]&&delete r.GroupList[this._groupID].listRadio[this.selectIndex],GOWN.ToggleButton.prototype.destroy(t)},r.prototype.setInfo=function(t,e,i){return this.selectIndex=t,this.selectValue=e,this.groupID=i,this},r.prototype.updateLabelDimensions=function(){this.labelText&&this.labelText.text&&(this.labelText.x=Math.floor(this.worldWidth+this.labelDistanceX),this.labelText.y=Math.floor((this.worldHeight-this.labelText.height)/2+ +this.labelDistanceY),this.hitArea?(this.hitArea.width=Math.floor(this.worldWidth+this.labelDistanceX+this.labelText.width),this.hitArea.height=Math.floor(this.worldHeight)):this.hitArea=new PIXI.Rectangle(0,0,this.worldWidth+this.labelDistanceX+this.labelText.width,this.worldHeight))},GOWN.RadioButton=r,GOWN.Button.FromTexture=function(t,e,i){e=e||t,i=i||t;var n=new GOWN.Theme(!1);n.setSkin(GOWN.Button.SKIN_NAME,GOWN.Button.UP,function(){return new PIXI.Sprite(t)}),n.setSkin(GOWN.Button.SKIN_NAME,GOWN.Button.HOVER,function(){return new PIXI.Sprite(e)}),n.setSkin(GOWN.Button.SKIN_NAME,GOWN.Button.DOWN,function(){return new PIXI.Sprite(i)});var o=new GOWN.Button(n);return o.width=t.width,o.height=t.height,o},GOWN.RadioButton.FromTexture=function(t,e,i,n,o,s){i=i||t,o=o||t,n=n||e,s=s||e;var r=new GOWN.Theme(!1);r.setSkin(GOWN.RadioButton.SKIN_NAME,GOWN.Button.UP,function(){return new PIXI.Sprite(t)}),r.setSkin(GOWN.RadioButton.SKIN_NAME,GOWN.Button.HOVER,function(){return new PIXI.Sprite(i)}),r.setSkin(GOWN.RadioButton.SKIN_NAME,GOWN.Button.DOWN,function(){return new PIXI.Sprite(o)}),r.setSkin(GOWN.RadioButton.SKIN_NAME,GOWN.ToggleButton.SELECTED_UP,function(){return new PIXI.Sprite(e)}),r.setSkin(GOWN.RadioButton.SKIN_NAME,GOWN.ToggleButton.SELECTED_HOVER,function(){return new PIXI.Sprite(n)}),r.setSkin(GOWN.RadioButton.SKIN_NAME,GOWN.ToggleButton.SELECTED_DOWN,function(){return new PIXI.Sprite(s)});var l=new GOWN.RadioButton(r);return l.width=t.width,l.height=t.height,l},Object.defineProperties(GOWN.ScrollBar.prototype,{isFixedThumbSize:{value:!1,writable:!0},thumbSize:{value:20,writable:!0},isAlwaysVisible:{value:!1,writable:!0}}),GOWN.ScrollBar.FromTexture=function(t,e){if(null==e||0==e.length||!(t instanceof GOWN.ScrollArea))return null;var i=e[0],n=e[1],o=null==e[2]?n:e[2],s=null==e[3]?n:e[3],r=null==e[4]?PIXI.Texture.EMPTY:e[4],l=new GOWN.Theme(!1);return l.setSkin(GOWN.ScrollBar.SKIN_NAME,"horizontal_track",function(){return new PIXI.Sprite(i)}),l.setSkin(GOWN.ScrollBar.SKIN_NAME,"vertical_track",function(){return new PIXI.Sprite(i)}),l.setSkin(GOWN.ScrollThumb.SKIN_NAME,"horizontal_"+GOWN.Button.UP,function(){return new PIXI.Sprite(n)}),l.setSkin(GOWN.ScrollThumb.SKIN_NAME,"horizontal_"+GOWN.Button.DOWN,function(){return new PIXI.Sprite(o)}),l.setSkin(GOWN.ScrollThumb.SKIN_NAME,"horizontal_"+GOWN.Button.HOVER,function(){return new PIXI.Sprite(s)}),l.setSkin(GOWN.ScrollThumb.SKIN_NAME,"horizontal_thumb",function(){return new PIXI.Sprite(r)}),l.setSkin(GOWN.ScrollThumb.SKIN_NAME,"vertical_"+GOWN.Button.UP,function(){return new PIXI.Sprite(n)}),l.setSkin(GOWN.ScrollThumb.SKIN_NAME,"vertical_"+GOWN.Button.DOWN,function(){return new PIXI.Sprite(o)}),l.setSkin(GOWN.ScrollThumb.SKIN_NAME,"vertical_"+GOWN.Button.HOVER,function(){return new PIXI.Sprite(s)}),l.setSkin(GOWN.ScrollThumb.SKIN_NAME,"vertical_thumb",function(){return new PIXI.Sprite(r)}),l.thumbSize=n.height,new GOWN.ScrollBar(t,null,l)},Object.defineProperties(GOWN.TextInput.prototype,{_retrict:{value:/[]/gi,writable:!0},retrict:{get:function(){return this._retrict},set:function(t){this._retrict!==t&&(this._retrict=t)}},formatText:{value:null,writable:!0},enabled:{get:function(){return this._enabled},set:function(t){!0===(this._enabled=t)?(this.interactive=!0,this.interactiveChildren=!0,this.alpha=1):(this.interactive=!1,this.interactiveChildren=!1,this.alpha=.8)}},_enabled:{value:!0,writable:!0},_hint:{value:null,writable:!0},hint:{get:function(){return this._hint||(this._hint=new PIXI.Text("",{fontFamily:"Myriad Pro",fontSize:"22pt",fill:7829367}),this.addChild(this._hint)),this._hint},set:function(t){""!=t&&this._hint.text!=t&&(this._hint.text=t)}},isToUpperCase:{value:!1,writable:!0}}),GOWN.TextInput.prototype.updateTextState=function(){var t=GOWN.utils.InputWrapper.getText();t!==this.text&&(this.text=this.isToUpperCase?t.toUpperCase():t);var e=GOWN.utils.InputWrapper.getSelection();this.updateSelection(e[0],e[1])&&(this.cursorPos=e[0]),this.setCursorPos()},GOWN.TextInput.prototype.restrictCharacters=function(t){this.retrict.test(t)&&(this.text=this.text.replace(this.retrict,""),GOWN.utils.InputWrapper.setText(this.text))},GOWN.TextInput.prototype.onKeyDown=function(t){if(this.onlyNumber&&-1===t.code.indexOf("Digit")&&-1===t.code.indexOf("Backspace")&&-1===t.code.indexOf("Numpad"))t.preventDefault();else if(this.isUpdateText){var e=t.which;if(37===e||40===e?this.cursorPos--:this.value.length>=this.cursorPos&&this.cursorPos++,46===e?this.cursorPos--:8===e&&(this.cursorPos-=2),27===t.which)return void this.blur();if(65===e&&(t.ctrlKey||t.metaKey))return t.preventDefault(),void this.updateSelection(0,this.text.length);if(17===e||t.metaKey||t.ctrlKey)return;13===e&&(t.preventDefault(),this.onSubmit(t)),this.updateTextState()}},GOWN.TextInput.prototype.onKeyUp=function(){this.isUpdateText&&(this.updateTextState(),this.restrictCharacters(this.text),this.formatText&&(this.text=this.formatText(this.text)),this.updateTextState())},GOWN.TextInput.prototype.redraw=function(){this.drawCursor(),GOWN.Control.prototype.redraw.call(this),GOWN.Skinable.prototype.redraw.call(this)},GOWN.TextInput.prototype.setCursorPos=function(){(!this.cursorPos||this.cursorPos<0)&&(this.cursorPos=0),this.cursor.x=this.pixiText.x+this.textWidth(this.text.substring(0,this.cursorPos))||0},GOWN.TextInput.BACKGROUND="background",GOWN.TextInput.stateNames=[GOWN.TextInput.BACKGROUND],GOWN.InputControl.prototype.preloadSkins=function(){for(var t=0;t<this._validStates.length;t++){var e=this._validStates[t],i=this.theme.getSkin(this.skinName,e);(this.skinCache[e]=i)&&(this.addChildAt(i,0),i.alpha=0,this.width&&(i.width=this.width),this.height&&(i.height=this.height))}this.invalidState=!0},GOWN.CheckBoxWithTitle=function(t){PIXI.Container.call(this),this.checkBox=new GOWN.CheckBox,this.checkBox.lable="Không hiển thị ván sau",this.addChild(this.checkBox);this.textField=new PIXI.Text("",{fontFamily:"Arial",fontSize:"18px",fill:65535,align:"left"}),this.textField.x=25,this.textField.y=-3,this.addChild(this.textField),this.lable=t||"lable",this.interactive=!0,this.mousedown=this.onMouseDown.bind(this),this.mouseup=this.onMouseUp.bind(this),this.mouseover=this.onMouseOver.bind(this),this.mouseout=this.onMouseOut.bind(this),this.buttonMode=!0},GOWN.CheckBoxWithTitle.prototype=Object.create(PIXI.Container.prototype),GOWN.CheckBoxWithTitle.prototype.constructor=GOWN.CheckBoxWithTitle,Object.defineProperties(GOWN.CheckBoxWithTitle.prototype,{checkBox:{value:null,writable:!0},textField:{value:null,writable:!0},selected:{get:function(){return this.checkBox.selected},set:function(t){this.checkBox.selected=t}},enable:{get:function(){return this._enable},set:function(t){this._enable=t,this.interactive=t,this.interactiveChildren=t}},_enable:{value:!0,writable:!0},style:{set:function(t){this.textField.style=t}}}),Object.defineProperty(GOWN.CheckBoxWithTitle.prototype,"lable",{get:function(){return this.textField.text},set:function(t){this.textField.text=t}}),Object.defineProperty(GOWN.CheckBoxWithTitle.prototype,"change",{get:function(){return this.checkBox.change},set:function(t){this.checkBox.change=t}}),GOWN.TextInput.prototype.onMouseUp=function(t){var e=t.data.originalEvent;if(2===e.which||3===e.which)return e.preventDefault(),!1;var i=this.mousePos(t),n=this.clickPos(i.x,i.y);return 0<=this.selectionStart&&n!==this.selectionStart||(this.cursorPos=n,this.setCursorPos(),this.updateSelection(this.cursorPos,this.cursorPos)),this.selectionStart=-1,!(this._mouseDown=!1)},GOWN.TextInput.prototype.onMouseDown=function(t){var e=t.data.originalEvent;if(2===e.which||3===e.which)return e.preventDefault(),!1;this._mouseDown=!0;var i=this.mousePos(t);return this.selectionStart=this.clickPos(i.x,i.y),this.updateSelection(this.selectionStart,this.selectionStart),this.cursorPos=this.selectionStart,this.setCursorPos(),!0},GOWN.TextInput.prototype.onMouseMove=function(t){var e=this.mousePos(t);if(!this.hasFocus||!this._mouseDown||this.selectionStart<0)return!1;var i=this.clickPos(e.x,e.y),n=Math.min(this.selectionStart,i),o=Math.max(this.selectionStart,i);return this.updateSelection(n,o)&&(this.cursorPos=i,this.setCursorPos(),this._cursorNeedsUpdate=!0),!0},GOWN.InputControl.prototype.onMouseUpOutside=function(t){if("mouseupoutside"===t.type){var e=this.mousePos(t),i=this.clickPos(e.x,e.y);0<=this.selectionStart&&i!==this.selectionStart||(this.cursorPos=i,this.setCursorPos(),this.updateSelection(this.cursorPos,this.cursorPos)),this.selectionStart=-1,this._mouseDown=!1,this.hasFocus&&!this._mouseDown&&this.blur()}},GOWN.CheckBoxWithTitle.prototype.onMouseDown=function(){this.checkBox.mousedown()},GOWN.CheckBoxWithTitle.prototype.onMouseUp=function(){this.checkBox.mouseup()},GOWN.CheckBoxWithTitle.prototype.onMouseOver=function(){this.checkBox.mouseover()},GOWN.CheckBoxWithTitle.prototype.onMouseOut=function(){this.checkBox.mouseout()},GOWN});